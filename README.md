# apps-repo
## В этом репозитории описано приложение, развертываемое через kustomize

- __`podinfo`__ - директория с приложением
- __`base`__ - директория с приложением под базовое окружение

### Проверка работоспособности 

*команда port-forward*
```bash
kubectl port-forward svc/podinfo 8080:9898
```

*URL*
```bash
http://localhost:8080/
```

### Просмотр логов пода приложения

```bash
{"level":"info","ts":"2026-01-30T22:32:03.154Z","caller":"podinfo/main.go:153","msg":"Starting podinfo","version":"6.9.4","revision":"b6b680fe507b8d290de02e6269dec63f5ceac4f5","port":"9898"}
{"level":"info","ts":"2026-01-30T22:32:03.155Z","caller":"http/server.go:224","msg":"Starting HTTP Server.","addr":":9898"}
```

Видим, что:

- "Starting HTTP Server." - процесс начал выполняться
- Нет ошибок в конце логов

## Почему был выбран kustomize

Kustomize был выбран как оптимальный инструмент для данной задачи по следующим причинам:

1. Прямое соответствие принципам GitOps — все манифесты хранятся в Git в явном виде, что обеспечивает полную прозрачность

2. Минимизация операционных рисков — отсутствие шаблонного рендеринга исключает целый класс проблем (шаблонные инъекции, скрытые изменения при рендеринге), упрощает отладку и делает пайплайн более предсказуемым

3. Оптимальное соотношение сложности и функциональности — для задачи развертывания podinfo (готовые манифесты в репозитории) Kustomize предоставляет необходимый функционал без избыточной сложности Helm

4. Единый подход в инфраструктуре — Flux CD сам настроен через Kustomize, что обеспечивает консистентность инструментов в пайплайне